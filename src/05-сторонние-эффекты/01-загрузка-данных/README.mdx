<TaskLayout 
  title="–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å useEffect"
  description="–ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ –≤ React! –ò–∑—É—á–∞–µ–º useEffect ‚Äî —Ö—É–∫ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ—Å–ª–µ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞."
>

<TaskObjective>

–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥ —Å —Å–µ—Ä–≤–µ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É—è —Ö—É–∫–∏ useEffect –∏ useState.

</TaskObjective>

<Info>

**useEffect** ‚Äî —Ö—É–∫ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –ø–æ—Å–ª–µ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

- **–ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã** ‚Äî –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç–∏–ø–∞ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤, —Ç–∞–π–º–µ—Ä–æ–≤, –ø–æ–¥–ø–∏—Å–æ–∫
- **–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏** ‚Äî –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **–ú–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç, –∫–æ–≥–¥–∞ —ç—Ñ—Ñ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- **–ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ []** –æ–∑–Ω–∞—á–∞–µ—Ç ¬´–≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞¬ª

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –≤–Ω–µ—à–Ω–∏–º–∏ API.

</Info>

<CodeExample title="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ useEffect –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö">

```jsx
function BookList() {
  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∫–Ω–∏–≥
  const [books, setBooks] = useState([]);
  
  // –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
  useEffect(() => {
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞
    fetch('http://localhost:3000/api/books')
      .then(response => response.json())
      .then(data => {
        setBooks(data); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
      })
      .catch(error => {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
      });
  }, []); // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ = –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑

  return (
    <div>
      <h1>–°–ø–∏—Å–æ–∫ –∫–Ω–∏–≥</h1>
      {books.length === 0 ? (
        <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
      ) : (
        <ul>
          {books.map(book => (
            <li key={book.id}>{book.name}</li>
          ))}
        </ul>
      )}
    </div>
  );
}

// –ü—Ä–∏–º–µ—Ä —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∑–∞–≥—Ä—É–∑–∫–∏
function BookListWithLoading() {
  const [books, setBooks] = useState([]);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState(null);
  
  useEffect(() => {
    fetch('http://localhost:3000/api/books')
      .then(response => {
        if (!response.ok) {
          throw new Error('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
        }
        return response.json();
      })
      .then(data => {
        setBooks(data);
        setIsLoading(false);
      })
      .catch(err => {
        setError(err.message);
        setIsLoading(false);
      });
  }, []);
  
  if (isLoading) return <p>–ó–∞–≥—Ä—É–∂–∞–µ–º –∫–Ω–∏–≥–∏...</p>;
  if (error) return <p>–û—à–∏–±–∫–∞: {error}</p>;
  
  return (
    <div>
      <h1>–ö–Ω–∏–≥–∏ ({books.length})</h1>
      <ul>
        {books.map(book => (
          <li key={book.id}>
            <strong>{book.name}</strong> - {book.author}
          </li>
        ))}
      </ul>
    </div>
  );
}
```

</CodeExample>

<Warning>

**–í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ useEffect:**

- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–π—Ç–µ useEffect –≤–Ω—É—Ç—Ä–∏ —É—Å–ª–æ–≤–∏–π ‚Äî —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π `[]` = —ç—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –ë–µ–∑ –º–∞—Å—Å–∏–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π = —ç—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é –≤ useEffect

</Warning>

<TaskLinks 
  title="üìö –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è"
  links={[
    {
      title: "–•—É–∫ useEffect",
      url: "https://ru.react.dev/reference/react/useEffect",
      description: "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ö—É–∫—É useEffect"
    },
    {
      title: "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏",
      url: "https://ru.react.dev/learn/synchronizing-with-effects",
      description: "–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏"
    },
    {
      title: "Fetch API –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤",
      url: "https://developer.mozilla.org/ru/docs/Web/API/Fetch_API/Using_Fetch",
      description: "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ Fetch API –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤"
    },
    {
      title: "–ö–æ–≥–¥–∞ useEffect –Ω–µ –Ω—É–∂–µ–Ω",
      url: "https://ru.react.dev/learn/you-might-not-need-an-effect",
      description: "–ö–æ–≥–¥–∞ useEffect –Ω–µ –Ω—É–∂–µ–Ω –∏ –∫–∞–∫–∏–µ –µ—Å—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã"
    }
  ]}
/>

</TaskLayout> 